<?xml version="1.0" encoding="UTF-8"?>
<ui:composition
        xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://xmlns.jcp.org/jsf/core"
        xmlns:h="http://xmlns.jcp.org/jsf/html"
        xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

    <p:panel id="custom" header="#{data.title}" toggleable="true" toggleSpeed="500" collapsed="#{data.open}"
    >
        <p:ajax event="toggle" listener="#{noteBean.isOpen(data)}"/>


        <p class="p-m-0" style="word-wrap: break-word;">
            #{data.description}
        </p>


        <f:facet name="actions">

            <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"
                           action="#{noteBean.openModalWindow(data)}" update="modal">
                <h:outputText styleClass="ui-icon pi pi-pencil"/>
            </p:commandLink>
            <p:commandLink styleClass="ui-panel-footer-icon ui-corner-all ui-state-default"
                           action="#{noteBean.deleteNote(data)}" update="noteList">
                <h:outputText styleClass="ui-icon pi pi-trash" style="color: #ff0000"/>
                <p:confirm type="popup" header="Confirmation" message="Do you want to delete this record?"
                           icon="pi pi-info-circle"/>
            </p:commandLink>
            <p:commandLink styleClass="ui-panel-titlebar-icon ui-corner-all ui-state-default"
                           action="#{noteBean.pinNote(data)}" update="noteList">
                <h:outputText styleClass="ui-icon pi pi-paperclip" style="color: #{data.pinned?'#3030E7':'#000000'}"/>
            </p:commandLink>

        </f:facet>
        <f:facet name="footer">

        </f:facet>

    </p:panel>
    <p:confirmPopup global="true">
        <p:commandButton value="No" type="button" styleClass="ui-confirm-popup-no ui-button-flat"/>
        <p:commandButton value="Yes" type="button" styleClass="ui-confirm-popup-yes"/>
    </p:confirmPopup>


</ui:composition>